<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Vista de formulario de facturas con integraciÃ³n Culqi -->
    <record id="account_move_form_view_culqi" model="ir.ui.view">
        <field name="name">account.move.form.view.culqi</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <header position="inside">
                <field name="valid_for_culqi_refund" invisible="1"/>
                <field name="show_button_culqi" invisible="1"/>
                <button string="Reembolso Culqi"
                    name="action_register_refund_payment" type="object"
                    invisible="not valid_for_culqi_refund"/>
                <button string="Pagar con Culqi"
                    name="action_culqi_pay_invoice" type="object"
                    invisible="not show_button_culqi"/>
            </header>
            <xpath expr="//div[@name='journal_div']" position="after">
                <field name="culqi_refund_reference" invisible="1"/>
                <field name="culqi_refund_reference" groups="base.group_no_one" readonly="1" invisible="not culqi_refund_reference"/>
                <span invisible="not culqi_refund_reference"> </span>
                <span class="badge bg-success text-white" invisible="not culqi_refund_reference"> <span class="fa fa-check"/> Monto reembolsado en Culqi </span>
            </xpath>
        </field>
    </record>

</odoo>